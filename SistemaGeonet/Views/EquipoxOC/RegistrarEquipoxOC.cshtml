@model SistemaGeonet.Models.EquipoxOC

@{
    ViewData["Title"] = "Create";
    Layout = null;
}


<link href="~/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

<!-- Custom styles for this template-->
<link href="~/css/sb-admin-2.css" rel="stylesheet">

<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">
                <i class="fa fa-align-justify"></i> Productos del proveedor
            </div>
            <div class="card-body">

                <table class="table table-bordered table-striped table-sm" id="tabla">
                    <thead>
                        <tr>


                            <th>
                                Código
                            </th>
                            <th>
                                Equipo
                            </th>
                            <th>
                                Marca
                            </th>
                            <th>
                                Unidad de Medida
                            </th>
                            <th>
                                Precio
                            </th>
                            <th>
                                Cantidad
                            </th>

                            <th>

                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var item in ViewData["listaProductos"] as IEnumerable<SistemaGeonet.Models.EquipoxProveedor>)


                        {
                            <form asp-action="RegistrarEquipoxOC">
                                <tr>
                                    @*<div asp-validation-summary="ModelOnly" class="text-danger"></div>*@

                                    <td style="display:none">
                                        <input asp-for="idOrdenCompra" value="@ViewContext.RouteData.Values["id"]" class="form-control" readonly />
                                    </td>



                                    <td style="display:none"> <input asp-for="idEquipoxProveedor" type="number" value="@item.idEquipoxProveedor" class="form-control" readonly /></td>
                                    <td>@item.codigo_proveedor</td>
                                    <td>@item.equipo.nombre</td>
                                    <td>@item.equipo.marca</td>
                                    <td>@item.unidad_medida</td>
                                    <td><input asp-for="precioUnit" type="number" value="@item.precio" class="form-control"  readonly/></td>
                                     <td><input asp-for="cantidad" type="number" value="0" min="0" oninput="validity.valid||(value='');" class="form-control" /></td>
                                    <td> <input class="btn btn-success" type="submit" value="Agregar" /></td>
                                </tr>

                            </form>
                        }

                    </tbody>
                </table>

            </div>
        </div>
    </div>
    <!--/.col-->
</div>



<script>
    window.onunload = refreshParent;
    function refreshParent() {
        window.opener.location.reload();
    }

    </script>



